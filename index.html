<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Biu Animation - Perfect Scale</title>
    <style>
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f0f0f0;
            overflow: hidden;
        }

        .stage {
            width: 720px;
            height: 380px;
            background: white;
            border-radius: 30px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.1);
            display: grid;
            grid-template-columns: 1fr 1.2fr; /* Slightly more space for the heart */
            align-items: center;
            padding: 20px;
            position: relative;
        }

        /* Person Style */
        .person-side {
            display: flex;
            justify-content: center;
        }

        .sketch-path {
            fill: none;
            stroke: #333;
            stroke-width: 3.5;
            stroke-linecap: round;
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: draw 2.5s ease-out forwards;
        }

        @keyframes draw {
            to { stroke-dashoffset: 0; }
        }

        /* Heart Style */
        .heart-side {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .tiny-heart {
            position: absolute;
            width: 12px;
            height: 12px;
            background: #ff3b3b;
            transform: rotate(-45deg) scale(0);
            opacity: 0;
            transition: 
                left 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275), 
                top 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275), 
                transform 0.4s ease, 
                opacity 0.3s ease;
        }

        .tiny-heart::before, .tiny-heart::after {
            content: "";
            position: absolute;
            width: 12px;
            height: 12px;
            background: #ff3b3b;
            border-radius: 50%;
        }
        .tiny-heart::before { top: -6px; left: 0; }
        .tiny-heart::after { left: 6px; top: 0; }

        /* Text inside smaller heart */
        #love-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: 'Arial Rounded MT Bold', sans-serif;
            font-size: 26px; /* Slightly smaller text for smaller heart */
            color: #ff3b3b;
            opacity: 0;
            transition: opacity 1s ease;
            text-align: center;
        }

        .pulse {
            animation: beat 1.5s infinite ease-in-out;
        }

        @keyframes beat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
    </style>
</head>
<body>

<div class="stage">
    <div class="person-side">
        <svg width="180" height="250" viewBox="0 0 100 120">
            <path class="sketch-path" d="M25,35 a22,22 0 1,0 44,0 a22,22 0 1,0 -44,0" />
            <circle cx="38" cy="32" r="2" fill="black" class="sketch-path" style="animation-delay: 0.5s;"/>
            <circle cx="56" cy="32" r="2" fill="black" class="sketch-path" style="animation-delay: 0.6s;"/>
            <path class="sketch-path" d="M38,45 Q47,54 56,45" style="animation-delay: 1s; stroke-width: 2.5;"/>
            <path class="sketch-path" d="M47,57 L47,95" style="animation-delay: 1.4s;"/>
            <path class="sketch-path" d="M47,95 L32,118" style="animation-delay: 1.7s;"/>
            <path class="sketch-path" d="M47,95 L62,118" style="animation-delay: 1.9s;"/>
            <path class="sketch-path" d="M47,75 L85,75" style="animation-delay: 2.2s;"/>
            <path class="sketch-path" d="M47,75 L80,90" style="animation-delay: 2.4s;"/>
        </svg>
    </div>

    <div class="heart-side" id="heartBox">
        <div id="love-text">I love u</div>
    </div>
</div>

<script>
    const box = document.getElementById('heartBox');
    const txt = document.getElementById('love-text');
    const total = 60; // Reduced count slightly for a cleaner small heart

    function init() {
        for (let i = 0; i < total; i++) {
            const h = document.createElement('div');
            h.className = 'tiny-heart';
            
            // Start from the person's hand area
            h.style.left = "-15%"; 
            h.style.top = "50%";
            
            const t = (i / total) * Math.PI * 2;
            const x = 16 * Math.pow(Math.sin(t), 3);
            const y = -(13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t));
            
            // Multiplier changed to 7.5 to make the heart smaller
            h.dataset.tx = `calc(50% + ${x * 7.5}px)`;
            h.dataset.ty = `calc(50% + ${y * 7.5}px)`;
            
            box.appendChild(h);
        }
    }

    function run() {
        const hearts = document.querySelectorAll('.tiny-heart');
        setTimeout(() => {
            hearts.forEach((h, i) => {
                setTimeout(() => {
                    h.style.opacity = '1';
                    h.style.transform = 'rotate(-45deg) scale(1)';
                    h.style.left = h.dataset.tx;
                    h.style.top = h.dataset.ty;
                }, i * 35);
            });

            setTimeout(() => {
                txt.style.opacity = '1';
                box.classList.add('pulse');
            }, total * 35 + 500);
        }, 3000);
    }

    init();
    run();
</script>

</body>
</html>
